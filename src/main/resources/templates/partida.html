<!DOCTYPE html>
<html class="h-100" xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:replace="~{fragments/head :: header}" />
    <title>Arena of Music</title>
</head>

<body class="d-flex flex-column h-100">
    <header th:replace="~{fragments/nav.html :: nav}"></header>

    <main>
        <div class="container my-1 p-3 rounded">
            <div class="row d-flex justify-content-center text-center align-items-center p-3">

                <div class="col-lg-3 col-md-12 col-sm-12 p-2 text-center">
                    <div class="card mb-3">
                        <div class="row g-0 align-items-center">
                            <div class="col-5 text-center">
                                <img src="/img/default-profile.png" class="img-fluid rounded-circle p-2" alt="Imagen Perfil"
                                    style="max-width: 100%; max-height: 160px;">
                            </div>
                            <div class="col-7 p-1">
                                <div class="card-body p-2">
                                    <h5 class="card-title mb-1">Jugador 1</h5>
                                    <p class="card-text mb-0">PUNTOS: <span class="fw-bold">15</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CONTENIDO PRINCIPAL -->
                <div class="col-lg-6 col-md-auto justify-content-center align-items-center p-2">
                    <h1 class="p-2 rounded my-3">RONDA 4</h1>
                    <!-- Círculo con cuenta atrás centrado -->
                    <div class="row">
                        <div class="col-6 col-lg-12 my-3 d-flex justify-content-center align-items-center">
                            <div class="rounded-circle d-flex justify-content-center align-items-center bg-light border
                            border-primary text-primary"
                                style="width: 20vw; height: 20vw; font-weight: bold; max-width: 215px; max-height: 215px;">
                                <b>
                                    <h4 id="countdown" style="font-size: 3vw;">COMIENZA!</h4>
                                </b>
                            </div>
                        </div>
                        <div class="col-6 col-lg-12">
                            <img src="/img/preview-song-img.jpeg" alt="Imagen de interrogación de partida"
                                class="rounded img-fluid my-3" style="max-width: 100%; max-height: 250px;">
                        </div>
                        <div class="col-12 input-group mt-auto border-success">
                            <input type="text" class="form-control  border-success border-3" id="songInput"
                                placeholder="Introduce el título de la canción...">
                            <button class="btn "
                                style="background-color: #198754 !important; color: lightgrey !important;">Marcar</button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-auto p-2 text-center d-none d-lg-flex flex-column">
                </div>

            </div>
        </div>
    </main>

    <th:block th:replace="~{fragments/footer.html :: footer}" />

    <script>
        let countdown = 15;
        const countdownElement = document.getElementById('countdown');

        function updateCountdown() {
            countdownElement.innerHTML = countdown;
            if (countdown >= 0) {
                countdown--;
            } else {
                countdownElement.innerHTML = "FIN!";
            }
        }

        // Actualización cada segundo
        const countdownInterval = setInterval(updateCountdown, 1000);
    </script>

</body>

</html>